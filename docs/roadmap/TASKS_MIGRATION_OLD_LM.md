# Tasks – Migration Legacy `/old_lm` → Neues System

| ID | Kurzbeschreibung | Betroffen | Dateien (Ziel) | Akzeptanzkriterium | Risiken / offene Punkte |
| --- | --- | --- | --- | --- | --- |
| T1 | Backend: GET `/inventory/movements` (Filter: Zeitraum, Typ, Kategorie, Item) für Reporting/Audit bereitstellen | backend | `app/modules/inventory/routes.py`, `app/modules/inventory/schemas.py`, `https://api.test.myitnetwork.de/openapi.json` | Bewegungen filterbar abrufbar; negative Mengen korrekt; OpenAPI aktualisiert; Tests für Tenant-Scope | Performance bei großen Tabellen; Zeitstempel-/TZ-Konsistenz |
| T2 | Backend: Inventur-Bulk-Update + Export (Excel) mit Legacy-Spalten | backend | `app/modules/inventory/routes.py`, `schemas.py`, evtl. neuer Service, `https://api.test.myitnetwork.de/openapi.json` | POST/PUT Inventur speichert Mengen bulk; Export liefert Legacy-Spalten (`Artikel-ID`, `Name`, `Barcode`, `Kategorie`, `Soll`, `Min`, `Bestand`) | Mapping `pf_artikel_id` ↔ `sku` klären; große Exporte |
| T3 | Backend: Reporting-Endpunkte `/inventory/report` + Exporte (CSV/XLSX) | backend | `app/modules/inventory/routes.py` oder neuer Router, `schemas.py`, `https://api.test.myitnetwork.de/openapi.json` | Monats-Aggregate aus Bewegungen (OUT) mit Filtern; CSV/XLSX Export; OpenAPI-Typen aktualisiert | Aggregations-Performance; Zeitraumberechnung |
| T4 | Backend: Bestellungen (Modelle + Endpunkte) inkl. Erledigt-Flow (Bestand erhöhen) | backend | neue Module (`app/modules/orders/*`), Modelle/Alambic, `https://api.test.myitnetwork.de/openapi.json` | CRUD/Statuswechsel, „bestellwürdig“-Liste, Erledigt erhöht Bestand; PDF optional, falls Pattern vorhanden | Schema/Model-Design; Mehrmandanten-Trennung; E-Mail-Versand |
| T5 | Backend: Einstellungen/Firmendaten, Auto-Bestellung, Empfänger, Mass Import/Export | backend | neuer Router `settings`, Modelle/Services, `https://api.test.myitnetwork.de/openapi.json` | Firmendaten speicher-/abrufbar; Auto-Bestellung-Schwellwerte; Import/Export mit Legacy-Spalten | Sicherheitsprüfung für Datei-Uploads; Größe/Validierung |
| T6 | Customer-Frontend: Artikel/Inventur/Bestellungen/Einstellungen an neue APIs anbinden (OpenAPI-Typen nutzen) | customer | `src/api/*`, `src/views/*`, `src/components/reports/*`, `src/composables/*` | Keine Dummy-KPIs; Tabellen/Charts mit echten Daten; Exporte triggern echte Endpunkte | Backend-Lücken blockieren; Umgang mit 404/Empty States |
| T7 | Customer-Frontend: Reporting-UI gegen neuen `/inventory/report` anbinden, Fallback entfernen | customer | `src/api/reporting.ts`, `src/views/BerichteAnalysenView.vue` | Daten/Exporte aus Backend; keine Client-Aggregation mehr; Filter funktionieren | Backend-Aggregation evtl. langsam; große Download-Blob |
| T8 | QA/Docs: WORKLOG/TODO/Roadmap nach jedem Task pflegen | docs | `WORKLOG.md`, `TODO.md`, Roadmap-Dateien | Nach jedem Task aktualisiert; offene Punkte nachgeführt | Disziplinaufwand |
